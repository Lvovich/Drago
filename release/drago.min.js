;/**
 * @file Drago
 * @version 4.0
 *
 * @author Lvovich
 * @see {@link https://github.com/Lvovich/Drago|GitHub}
 *
 * @license MIT
 */
var drago=(function(){'use strict';function d(a){try{return a.call(this)}catch(b){console.dir(b)}}function e(a){this.c=a;this.a=a.draggable;var b=this;this.g=function(a){b.o(a)};this.h=function(a){b.s(a)};a.grabable.addEventListener("mousedown",function(a){b.m(a)})}var c=Object.create(null);d(function(){c.f="drago_"+Math.random().toString(36).replace(".","_");c.b=function(){return!0}});e.prototype.m=function(a){d.call(this,function(){var b=this.c.onGrabBegin(a),c=this.a.getBoundingClientRect();a.button||!b&&
void 0!==b||(this.u=a.clientX,this.v=a.clientY,this.j=c.left,this.l=c.top,this.w={zIndex:this.a.style.zIndex||""},this.a.style.left=this.j+"px",this.a.style.top=this.l+"px",this.a.style.position="fixed",this.a.style.zIndex+=1E5,document.addEventListener("mousemove",this.g),document.addEventListener("mouseup",this.h),this.i=!0)})};e.prototype.o=function(a){d.call(this,function(){var b=this.c.onDragBegin(a),c=a.clientX-this.u,d=a.clientY-this.v;(2<Math.abs(c)||2<Math.abs(d))&&this.i&&(b||void 0===b)&&
(this.a.style.left=this.j+c+"px",this.a.style.top=this.l+d+"px",this.c.onDragEnd(a))})};e.prototype.s=function(a){d.call(this,function(){this.a.style.zIndex=this.w.zIndex;document.removeEventListener("mousemove",this.g);document.removeEventListener("mouseup",this.h);this.i=!1;this.c.onGrabEnd(a)})};return function(a){return d(function(){var b;b=a;b.draggable.parentElement?(b.grabable.parentElement||(b.grabable=b.draggable),b.onGrabBegin=b.onGrabBegin||c.b,b.onGrabEnd=b.onGrabEnd||c.b,b.onDragBegin=
b.onDragBegin||c.b,b.onDragEnd=b.onDragEnd||c.b):(console.warn('Drago: parameter "draggable" is invalid.'),b=null);(a=b)?a.draggable[c.f]||(a.draggable[c.f]=!!new e(a)):console.error("Drago: was an errors while initialization. Plugin disabled.")})}})();

/**
 * Author: Lvovich
 *
 * open-source repo: https://github.com/Lvovich/Drago
 *
 * used code & concept from https://learn.javascript.ru/drag-and-drop-objects
 *
 * Free code.
 */

window.Drago=function(a){if("object"!==typeof this||this===window)return console.error('Drago: incorrect call without "new". Plugin Off!'),{};(function(){a.draggable=""+a.draggable||".eff422e211a0627fh5widcc88e75b314146";a.grabable=""+a.grabable||".eff422e211a0627fh5widcc88e75b314146";"function"!==typeof a.onGrab&&(a.onGrab=function(){});"function"!==typeof a.onDragBegin&&(a.onDragBegin=function(){});"function"!==typeof a.onDragEnd&&(a.onDragEnd=function(){});"function"!==typeof a.onGrabEnd&&(a.onGrab=
function(){})})();return function(b){b.draggable=document.querySelector(a.draggable);b.j=document.querySelector(a.grabable)||b.draggable;if(!b.draggable||!b.b.v(b.draggable,b.j))return console.error('Drago: parameters is invalid or "draggable" is not a parent for "grabable". Plugin Off!'),{};b.f=a;b.a={};b.j.addEventListener("mousedown",function(a){return b.m(a)});document.addEventListener("mousemove",function(a){return b.o(a)});document.addEventListener("mouseup",function(){return b.s()})}(this)};window.Drago.prototype.m=function(a){1==a.which&&(this.a.g=this.draggable,this.a.h=a.clientX,this.a.i=a.clientY,this.b.w(this.f))};window.Drago.prototype.o=function(a){if(this.a.g){if(!this.a.c){var b=a.clientY-this.a.i;if(3>Math.abs(a.clientX-this.a.h)&&3>Math.abs(b))return;this.a.c=this.b.l(this.a);if(!this.a.c){this.a={};return}b=this.a.c.getBoundingClientRect();this.a.B=this.a.h-b.left;this.a.C=this.a.i-b.top;this.b.D(this.f)}this.a.c.style.left=a.clientX-this.a.B+"px";this.a.c.style.top=a.clientY-this.a.C+"px";return!1}};window.Drago.prototype.s=function(){this.a.c&&this.b.u(this.f);this.b.A(this.f);this.a={}};window.Drago.prototype.b=Object.create(null);window.Drago.prototype.b.l=function(a){var b=a.g,c=b.position||"",d=b.left||"",e=b.top||"",f=b.zIndex||"";b.F=function(){b.style.position=c;b.style.left=d;b.style.top=e;b.style.zIndex=f};return b};window.Drago.prototype.b.D=function(a){a.onDragBegin()};window.Drago.prototype.b.u=function(a){a.onDragEnd()};window.Drago.prototype.b.w=function(a){a.onGrab()};window.Drago.prototype.b.A=function(a){a.onGrabEnd()};
window.Drago.prototype.b.v=function(a,b){if(b===a)return!0;for(var c=b.parentElement;c&&c!==a;)c=c.parentElement;return!!c};

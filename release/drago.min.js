;/**
 * @file Drago
 * @version 4.1
 *
 * @author Lvovich
 * @see {@link https://github.com/Lvovich/Drago|GitHub}
 *
 * @license MIT
 */
var drago=(function(){'use strict';function d(b){try{return b.call(this)}catch(a){console.dir(a)}}function e(b){this.b=b;this.a=b.draggable;var a=this;this.g=function(b){a.o(b)};this.h=function(b){a.s(b)};b.grabable.addEventListener("mousedown",function(b){a.m(b)})}var c=Object.create(null);d(function(){c.f="drago_"+Math.random().toString(36).replace(".","_");c.c=function(){return!0}});e.prototype.m=function(b){d.call(this,function(){var a=this.b.onGrabBegin(b),c=this.a.getBoundingClientRect();b.button||!a&&
void 0!==a||(this.u=b.clientX,this.v=b.clientY,this.j=c.left,this.l=c.top,this.w={zIndex:this.a.style.zIndex||""},this.a.style.left=this.j+"px",this.a.style.top=this.l+"px",this.a.style.position="fixed",this.a.style.zIndex+=1E5,document.addEventListener("mousemove",this.g),document.addEventListener("mouseup",this.h),this.i=!0)})};e.prototype.o=function(b){d.call(this,function(){var a=this.b.onDragBegin(b),c=b.clientX-this.u,d=b.clientY-this.v;(2<Math.abs(c)||2<Math.abs(d))&&this.i&&(a||void 0===a)&&
(this.a.style.left=this.j+(this.b.onlyVert?0:c)+"px",this.a.style.top=this.l+(this.b.onlyHor?0:d)+"px",this.b.onDragEnd(b))})};e.prototype.s=function(b){d.call(this,function(){this.a.style.zIndex=this.w.zIndex;document.removeEventListener("mousemove",this.g);document.removeEventListener("mouseup",this.h);this.i=!1;this.b.onGrabEnd(b)})};return function(b){return d(function(){var a;a=b;a.draggable.parentElement?(a.grabable.parentElement||(a.grabable=a.draggable),a.onlyHor=!!a.onlyHor,a.onlyVert=!!a.onlyVert,
a.onGrabBegin=a.onGrabBegin||c.c,a.onGrabEnd=a.onGrabEnd||c.c,a.onDragBegin=a.onDragBegin||c.c,a.onDragEnd=a.onDragEnd||c.c):(console.warn('Drago: parameter "draggable" is invalid.'),a=null);(b=a)?b.draggable[c.f]||(b.draggable[c.f]=!!new e(b)):console.error("Drago: was an errors while initialization. Plugin disabled.")})}})();
